Generated at 2015-07-02 13:36:37 +0000
Mixlib::ShellOut::ShellCommandFailed: execute[install pg spec] (postgresql::ruby line 108) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /opt/chefdk/embedded/bin/gem spec ./cache/pg-0.18.2.gem --ruby > ./specifications/pg-0.18.2.gemspec ----
STDOUT: 
STDERR: [/home/ubuntu/.chefdk/gem/ruby/2.1.0/specifications/pg-0.18.2.gemspec] isn't a Gem::Specification (NilClass instead).
[/home/ubuntu/.chefdk/gem/ruby/2.1.0/specifications/pg-0.18.2.gemspec] isn't a Gem::Specification (NilClass instead).
ERROR:  No gem matching './cache/pg-0.18.2.gem (>= 0)' found
---- End output of /opt/chefdk/embedded/bin/gem spec ./cache/pg-0.18.2.gem --ruby > ./specifications/pg-0.18.2.gemspec ----
Ran /opt/chefdk/embedded/bin/gem spec ./cache/pg-0.18.2.gem --ruby > ./specifications/pg-0.18.2.gemspec returned 1
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/mixlib-shellout-2.1.0/lib/mixlib/shellout.rb:289:in `invalid!'
/opt/chefdk/embedded/lib/ruby/gems/2.1.0/gems/mixlib-shellout-2.1.0/lib/mixlib/shellout.rb:276:in `error!'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/shell_out.rb:56:in `shell_out!'
/opt/chefdk/embedded/apps/chef/lib/chef/provider/execute.rb:61:in `block in action_run'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/why_run.rb:52:in `call'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/why_run.rb:52:in `add_action'
/opt/chefdk/embedded/apps/chef/lib/chef/provider.rb:165:in `converge_by'
/opt/chefdk/embedded/apps/chef/lib/chef/provider/execute.rb:60:in `action_run'
/opt/chefdk/embedded/apps/chef/lib/chef/provider.rb:130:in `run_action'
/opt/chefdk/embedded/apps/chef/lib/chef/resource.rb:562:in `run_action'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/postgresql/recipes/ruby.rb:113:in `rescue in rescue in from_file'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/postgresql/recipes/ruby.rb:54:in `rescue in from_file'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/postgresql/recipes/ruby.rb:21:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/cookbook_version.rb:228:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:173:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:142:in `block in include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `each'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/database/recipes/postgresql.rb:20:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/cookbook_version.rb:228:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:173:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:142:in `block in include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `each'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/test/recipes/database.rb:3:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/cookbook_version.rb:228:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:173:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:142:in `block in include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `each'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:141:in `include_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/home/ubuntu/cookbooks/staging_test/local-mode-cache/cache/cookbooks/test/recipes/default.rb:5:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chefdk/embedded/apps/chef/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chefdk/embedded/apps/chef/lib/chef/cookbook_version.rb:228:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:173:in `load_recipe'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
/opt/chefdk/embedded/apps/chef/lib/chef/run_context.rb:96:in `load'
/opt/chefdk/embedded/apps/chef/lib/chef/policy_builder/expand_node_object.rb:87:in `setup_run_context'
/opt/chefdk/embedded/apps/chef/lib/chef/client.rb:256:in `setup_run_context'
/opt/chefdk/embedded/apps/chef/lib/chef/client.rb:454:in `run'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:271:in `block in fork_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:259:in `fork'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:259:in `fork_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:225:in `block in run_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/local_mode.rb:39:in `with_server_connectivity'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:213:in `run_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/application/client.rb:402:in `block in interval_run_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/application/client.rb:392:in `loop'
/opt/chefdk/embedded/apps/chef/lib/chef/application/client.rb:392:in `interval_run_chef_client'
/opt/chefdk/embedded/apps/chef/lib/chef/application/client.rb:382:in `run_application'
/opt/chefdk/embedded/apps/chef/lib/chef/application.rb:60:in `run'
/opt/chefdk/embedded/apps/chef/bin/chef-client:26:in `<top (required)>'
/usr/bin/chef-client:51:in `load'
/usr/bin/chef-client:51:in `<main>'